---
title: "Analyzer de uma proposição que já está na segunda casa"
output: html_notebook
---

O [Analyzer](https://github.com/analytics-ufcg/agora-digital/blob/master/R/analyzer.R) realiza operações de reconhecimento de eventos e fases em dataframes de tramitação da Câmara e do Senado.
Para aquelas proposições que já tramitaram na casa de origem e estão agora na casa revisora, temos que identificar os ids das proposições na Câmara e no Senado, com posse dessas informações precisamos chamar apenas a função process_proposicao(id, casa) duas vezes. Depois disso todos os csvs necessários para o módulo view terão sido criados.

```{r message=FALSE}
id_qualidade_fiscal_senado <- 91341
id_qualidade_fiscal_camara <- 2088990

prop_camara <- agoradigital::fetch_proposicao(id_qualidade_fiscal_camara, 'camara')
tram_camara <- rcongresso::fetch_tramitacao(id_qualidade_fiscal_camara)
prop_senado <- agoradigital::fetch_proposicao(id_qualidade_fiscal_senado, 'senado')
tram_senado <- agoradigital::fetch_tramitacao(id_qualidade_fiscal_senado)

tramitacao_senado <- agoradigital::process_proposicao(prop_senado, tram_senado, 'senado')
tramitacao_senado

agoradigital::process_proposicao(prop_camara, tram_camara, "camara")
```

